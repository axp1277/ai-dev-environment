[ Skip to content ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#multi-agent)
**We are growing and hiring for multiple roles for LangChain, LangGraph and LangSmith.[ Join our team!](https://www.langchain.com/careers)**
[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph")
LangGraph 
Multi-agent 
[ ](https://langchain-ai.github.io/langgraph/agents/multi-agent/?q= "Share")
Type to start searching
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides ](https://langchain-ai.github.io/langgraph/)
  * [ Reference ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources ](https://langchain-ai.github.io/langgraph/concepts/faq/)


[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph") LangGraph 
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides  ](https://langchain-ai.github.io/langgraph/)
    * Get started 
      * [ Quickstart  ](https://langchain-ai.github.io/langgraph/agents/agents/)
      * [ LangGraph basics  ](https://langchain-ai.github.io/langgraph/concepts/why-langgraph/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/tutorials/deployment/)
    * Prebuilt agents 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/agents/overview/)
      * [ Running agents  ](https://langchain-ai.github.io/langgraph/agents/run_agents/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/agents/streaming/)
      * [ Models  ](https://langchain-ai.github.io/langgraph/agents/models/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/agents/tools/)
      * [ MCP Integration  ](https://langchain-ai.github.io/langgraph/agents/mcp/)
      * [ Context  ](https://langchain-ai.github.io/langgraph/agents/context/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/agents/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/agents/human-in-the-loop/)
      * Multi-agent  [ Multi-agent  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/)
        * [ Supervisor  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#supervisor)
        * [ Swarm  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#swarm)
        * [ Handoffs  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#handoffs)
      * [ Evals  ](https://langchain-ai.github.io/langgraph/agents/evals/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/agents/deployment/)
      * [ UI  ](https://langchain-ai.github.io/langgraph/agents/ui/)
    * LangGraph framework 
      * [ Agent architectures  ](https://langchain-ai.github.io/langgraph/concepts/agentic_concepts/)
      * [ Graphs  ](https://langchain-ai.github.io/langgraph/concepts/low_level/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/concepts/streaming/)
      * [ Persistence  ](https://langchain-ai.github.io/langgraph/concepts/persistence/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/concepts/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/concepts/human_in_the_loop/)
      * [ Breakpoints  ](https://langchain-ai.github.io/langgraph/concepts/breakpoints/)
      * [ Time travel  ](https://langchain-ai.github.io/langgraph/concepts/time-travel/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/concepts/tools/)
      * [ Subgraphs  ](https://langchain-ai.github.io/langgraph/concepts/subgraphs/)
      * [ Multi-agent  ](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)
      * [ Functional API  ](https://langchain-ai.github.io/langgraph/concepts/functional_api/)
      * [ LangGraph's Runtime (Pregel)  ](https://langchain-ai.github.io/langgraph/concepts/pregel/)
      * [ Other  ](https://langchain-ai.github.io/langgraph/how-tos/async/)
    * LangGraph Platform 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_platform/)
      * [ Get started  ](https://langchain-ai.github.io/langgraph/tutorials/langgraph-platform/local-server/)
      * [ Components  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_components/)
      * [ Data management  ](https://langchain-ai.github.io/langgraph/cloud/deployment/semantic_search/)
      * [ Authentication & access control  ](https://langchain-ai.github.io/langgraph/concepts/auth/)
      * [ Assistants  ](https://langchain-ai.github.io/langgraph/concepts/assistants/)
      * [ Threads  ](https://langchain-ai.github.io/langgraph/cloud/concepts/threads/)
      * [ Runs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/runs/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/cloud/concepts/streaming/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/cloud/how-tos/human_in_the_loop_breakpoint/)
      * [ MCP  ](https://langchain-ai.github.io/langgraph/concepts/server-mcp/)
      * [ Double-texting  ](https://langchain-ai.github.io/langgraph/concepts/double_texting/)
      * [ Webhooks  ](https://langchain-ai.github.io/langgraph/cloud/concepts/webhooks/)
      * [ Cron Jobs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/cron_jobs/)
      * [ Server Customization  ](https://langchain-ai.github.io/langgraph/how-tos/http/custom_lifespan/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/concepts/deployment_options/)
  * [ Reference  ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples  ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources  ](https://langchain-ai.github.io/langgraph/concepts/faq/)


  * [ Supervisor  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#supervisor)
  * [ Swarm  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#swarm)
  * [ Handoffs  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/#handoffs)


  1. [ Guides  ](https://langchain-ai.github.io/langgraph/)
  2. [ Prebuilt agents  ](https://langchain-ai.github.io/langgraph/agents/overview/)

agent [ ](https://github.com/langchain-ai/langgraph/edit/main/docs/docs/agents/multi-agent.md "Edit this page")
# Multi-agent[¶](https://langchain-ai.github.io/langgraph/agents/multi-agent/#multi-agent "Permanent link")
A single agent might struggle if it needs to specialize in multiple domains or manage many tools. To tackle this, you can break your agent into smaller, independent agents and composing them into a [multi-agent system](https://langchain-ai.github.io/langgraph/concepts/multi_agent/).
In multi-agent systems, agents need to communicate between each other. They do so via [handoffs](https://langchain-ai.github.io/langgraph/agents/multi-agent/#handoffs) — a primitive that describes which agent to hand control to and the payload to send to that agent.
Two of the most popular multi-agent architectures are:
  * [supervisor](https://langchain-ai.github.io/langgraph/agents/multi-agent/#supervisor) — individual agents are coordinated by a central supervisor agent. The supervisor controls all communication flow and task delegation, making decisions about which agent to invoke based on the current context and task requirements.
  * [swarm](https://langchain-ai.github.io/langgraph/agents/multi-agent/#swarm) — agents dynamically hand off control to one another based on their specializations. The system remembers which agent was last active, ensuring that on subsequent interactions, the conversation resumes with that agent.


## Supervisor[¶](https://langchain-ai.github.io/langgraph/agents/multi-agent/#supervisor "Permanent link")
![Supervisor](https://langchain-ai.github.io/langgraph/agents/assets/supervisor.png)
Use [`langgraph-supervisor`](https://github.com/langchain-ai/langgraph-supervisor-py) library to create a supervisor multi-agent system:
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-0-1)pip
```

_API Reference:[ChatOpenAI](https://python.langchain.com/api_reference/openai/chat_models/langchain_openai.chat_models.base.ChatOpenAI.html) | [create_react_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent) | [create_supervisor](https://langchain-ai.github.io/langgraph/reference/supervisor/#langgraph_supervisor.supervisor.create_supervisor)_
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-1)fromlangchain_openaiimport ChatOpenAI
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-2)fromlanggraph.prebuiltimport create_react_agent
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-3)fromlanggraph_supervisorimport create_supervisor
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-4)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-5)defbook_hotel(hotel_name: str):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-6)"""Book a hotel"""
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-7)    return f"Successfully booked a stay at {hotel_name}."
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-8)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-9)defbook_flight(from_airport: str, to_airport: str):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-10)"""Book a flight"""
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-11)    return f"Successfully booked a flight from {from_airport} to {to_airport}."
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-12)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-13)flight_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-14)    model="openai:gpt-4o",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-15)    tools=[book_flight],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-16)    prompt="You are a flight booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-17)    name="flight_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-18))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-19)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-20)hotel_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-21)    model="openai:gpt-4o",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-22)    tools=[book_hotel],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-23)    prompt="You are a hotel booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-24)    name="hotel_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-25))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-26)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-27)supervisor = create_supervisor(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-28)    agents=[flight_assistant, hotel_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-29)    model=ChatOpenAI(model="gpt-4o"),
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-30)    prompt=(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-31)        "You manage a hotel booking assistant and a"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-32)        "flight booking assistant. Assign work to them."
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-33)    )
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-34)).compile()
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-35)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-36)for chunk in supervisor.stream(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-37)    {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-38)        "messages": [
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-39)            {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-40)                "role": "user",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-41)                "content": "book a flight from BOS to JFK and a stay at McKittrick Hotel"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-42)            }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-43)        ]
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-44)    }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-45)):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-46)    print(chunk)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-1-47)    print("\n")

```

## Swarm[¶](https://langchain-ai.github.io/langgraph/agents/multi-agent/#swarm "Permanent link")
![Swarm](https://langchain-ai.github.io/langgraph/agents/assets/swarm.png)
Use [`langgraph-swarm`](https://github.com/langchain-ai/langgraph-swarm-py) library to create a swarm multi-agent system:
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-2-1)pip
```

_API Reference:[create_react_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent) | [create_swarm](https://langchain-ai.github.io/langgraph/reference/swarm/#langgraph_swarm.swarm.create_swarm) | [create_handoff_tool](https://langchain-ai.github.io/langgraph/reference/swarm/#langgraph_swarm.handoff.create_handoff_tool)_
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-1)fromlanggraph.prebuiltimport create_react_agent
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-2)fromlanggraph_swarmimport create_swarm, create_handoff_tool
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-3)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-4)transfer_to_hotel_assistant = create_handoff_tool(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-5)    agent_name="hotel_assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-6)    description="Transfer user to the hotel-booking assistant.",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-7))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-8)transfer_to_flight_assistant = create_handoff_tool(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-9)    agent_name="flight_assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-10)    description="Transfer user to the flight-booking assistant.",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-11))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-12)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-13)flight_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-14)    model="anthropic:claude-3-5-sonnet-latest",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-15)    tools=[book_flight, transfer_to_hotel_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-16)    prompt="You are a flight booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-17)    name="flight_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-18))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-19)hotel_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-20)    model="anthropic:claude-3-5-sonnet-latest",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-21)    tools=[book_hotel, transfer_to_flight_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-22)    prompt="You are a hotel booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-23)    name="hotel_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-24))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-25)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-26)swarm = create_swarm(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-27)    agents=[flight_assistant, hotel_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-28)    default_active_agent="flight_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-29)).compile()
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-30)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-31)for chunk in swarm.stream(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-32)    {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-33)        "messages": [
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-34)            {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-35)                "role": "user",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-36)                "content": "book a flight from BOS to JFK and a stay at McKittrick Hotel"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-37)            }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-38)        ]
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-39)    }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-40)):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-41)    print(chunk)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-3-42)    print("\n")

```

## Handoffs[¶](https://langchain-ai.github.io/langgraph/agents/multi-agent/#handoffs "Permanent link")
A common pattern in multi-agent interactions is **handoffs** , where one agent _hands off_ control to another. Handoffs allow you to specify:
  * **destination** : target agent to navigate to
  * **payload** : information to pass to that agent


This is used both by `langgraph-supervisor` (supervisor hands off to individual agents) and `langgraph-swarm` (an individual agent can hand off to other agents).
To implement handoffs with `create_react_agent`, you need to:
  1. Create a special tool that can transfer control to a different agent
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-1)deftransfer_to_bob():
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-2)"""Transfer to bob."""
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-3)    return Command(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-4)        # name of the agent (node) to go to
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-5)        goto="bob",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-6)        # data to send to the agent
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-7)        update={"messages": [...]},
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-8)        # indicate to LangGraph that we need to navigate to
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-9)        # agent node in a parent graph
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-10)        graph=Command.PARENT,
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-4-11)    )

```

  2. Create individual agents that have access to handoff tools:
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-1)flight_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-2)    ..., tools=[book_flight, transfer_to_hotel_assistant]
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-3))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-4)hotel_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-5)    ..., tools=[book_hotel, transfer_to_flight_assistant]
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-5-6))

```

  3. Define a parent graph that contains individual agents as nodes:
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-1)fromlanggraph.graphimport StateGraph, MessagesState
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-2)multi_agent_graph = (
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-3)    StateGraph(MessagesState)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-4)    .add_node(flight_assistant)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-5)    .add_node(hotel_assistant)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-6)    ...
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-6-7))

```



Putting this together, here is how you can implement a simple multi-agent system with two agents — a flight booking assistant and a hotel booking assistant:
_API Reference:[tool](https://python.langchain.com/api_reference/core/tools/langchain_core.tools.convert.tool.html) | [InjectedToolCallId](https://python.langchain.com/api_reference/core/tools/langchain_core.tools.base.InjectedToolCallId.html) | [create_react_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent) | [InjectedState](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.tool_node.InjectedState) | [StateGraph](https://langchain-ai.github.io/langgraph/reference/graphs/#langgraph.graph.state.StateGraph) | [START](https://langchain-ai.github.io/langgraph/reference/constants/#langgraph.constants.START) | [Command](https://langchain-ai.github.io/langgraph/reference/types/#langgraph.types.Command)_
```
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-1)fromtypingimport Annotated
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-2)fromlangchain_core.toolsimport tool, InjectedToolCallId
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-3)fromlanggraph.prebuiltimport create_react_agent, InjectedState
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-4)fromlanggraph.graphimport StateGraph, START, MessagesState
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-5)fromlanggraph.typesimport Command
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-6)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-7)defcreate_handoff_tool(*, agent_name: str, description: str | None = None):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-8)    name = f"transfer_to_{agent_name}"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-9)    description = description or f"Transfer to {agent_name}"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-10)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-11)    @tool(name, description=description)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-12)    defhandoff_tool(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-13)        state: Annotated[MessagesState, InjectedState], [](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__code_7_annotation_1)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-14)        tool_call_id: Annotated[str, InjectedToolCallId],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-15)    ) -> Command:
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-16)        tool_message = {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-17)            "role": "tool",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-18)            "content": f"Successfully transferred to {agent_name}",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-19)            "name": name,
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-20)            "tool_call_id": tool_call_id,
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-21)        }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-22)        return Command(  [](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__code_7_annotation_2)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-23)            goto=agent_name,  [](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__code_7_annotation_3)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-24)            update={"messages": state["messages"] + [tool_message]},  [](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__code_7_annotation_4)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-25)            graph=Command.PARENT,  [](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__code_7_annotation_5)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-26)        )
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-27)    return handoff_tool
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-28)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-29)# Handoffs
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-30)transfer_to_hotel_assistant = create_handoff_tool(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-31)    agent_name="hotel_assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-32)    description="Transfer user to the hotel-booking assistant.",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-33))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-34)transfer_to_flight_assistant = create_handoff_tool(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-35)    agent_name="flight_assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-36)    description="Transfer user to the flight-booking assistant.",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-37))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-38)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-39)# Simple agent tools
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-40)defbook_hotel(hotel_name: str):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-41)"""Book a hotel"""
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-42)    return f"Successfully booked a stay at {hotel_name}."
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-43)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-44)defbook_flight(from_airport: str, to_airport: str):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-45)"""Book a flight"""
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-46)    return f"Successfully booked a flight from {from_airport} to {to_airport}."
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-47)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-48)# Define agents
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-49)flight_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-50)    model="anthropic:claude-3-5-sonnet-latest",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-51)    tools=[book_flight, transfer_to_hotel_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-52)    prompt="You are a flight booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-53)    name="flight_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-54))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-55)hotel_assistant = create_react_agent(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-56)    model="anthropic:claude-3-5-sonnet-latest",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-57)    tools=[book_hotel, transfer_to_flight_assistant],
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-58)    prompt="You are a hotel booking assistant",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-59)    name="hotel_assistant"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-60))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-61)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-62)# Define multi-agent graph
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-63)multi_agent_graph = (
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-64)    StateGraph(MessagesState)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-65)    .add_node(flight_assistant)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-66)    .add_node(hotel_assistant)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-67)    .add_edge(START, "flight_assistant")
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-68)    .compile()
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-69))
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-70)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-71)# Run the multi-agent graph
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-72)for chunk in multi_agent_graph.stream(
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-73)    {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-74)        "messages": [
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-75)            {
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-76)                "role": "user",
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-77)                "content": "book a flight from BOS to JFK and a stay at McKittrick Hotel"
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-78)            }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-79)        ]
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-80)    }
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-81)):
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-82)    print(chunk)
[](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__codelineno-7-83)    print("\n")

```

Note
This handoff implementation assumes that:
  * each agent receives overall message history (across all agents) in the multi-agent system as its input
  * each agent outputs its internal messages history to the overall message history of the multi-agent system


Check out LangGraph [supervisor](https://github.com/langchain-ai/langgraph-supervisor-py#customizing-handoff-tools) and [swarm](https://github.com/langchain-ai/langgraph-swarm-py#customizing-handoff-tools) documentation to learn how to customize handoffs.
Was this page helpful? 
Thanks for your feedback! 
Thanks for your feedback! Please help us improve this page by adding to the discussion below. 
[ Previous  Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/agents/human-in-the-loop/) [ Next  Evals  ](https://langchain-ai.github.io/langgraph/agents/evals/)
Copyright © 2025 LangChain, Inc | [Consent Preferences](https://langchain-ai.github.io/langgraph/agents/multi-agent/#__consent)
Made with [ Material for MkDocs Insiders ](https://squidfunk.github.io/mkdocs-material/)
[ ](https://langchain-ai.github.io/langgraphjs/ "langchain-ai.github.io") [ ](https://github.com/langchain-ai/langgraph "github.com") [ ](https://twitter.com/LangChainAI "twitter.com")
#### Cookie consent
We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. **Clicking "Accept" makes our documentation better. Thank you!** ❤️
  *   * 

Accept Reject
