[ Skip to content ](https://langchain-ai.github.io/langgraph/concepts/pregel/#langgraphs-runtime-pregel)
**We are growing and hiring for multiple roles for LangChain, LangGraph and LangSmith.[ Join our team!](https://www.langchain.com/careers)**
[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph")
LangGraph 
LangGraph's Runtime (Pregel) 
[ ](https://langchain-ai.github.io/langgraph/concepts/pregel/?q= "Share")
Type to start searching
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides ](https://langchain-ai.github.io/langgraph/)
  * [ Reference ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources ](https://langchain-ai.github.io/langgraph/concepts/faq/)


[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph") LangGraph 
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides  ](https://langchain-ai.github.io/langgraph/)
    * Get started 
      * [ Quickstart  ](https://langchain-ai.github.io/langgraph/agents/agents/)
      * [ LangGraph basics  ](https://langchain-ai.github.io/langgraph/concepts/why-langgraph/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/tutorials/deployment/)
    * Prebuilt agents 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/agents/overview/)
      * [ Running agents  ](https://langchain-ai.github.io/langgraph/agents/run_agents/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/agents/streaming/)
      * [ Models  ](https://langchain-ai.github.io/langgraph/agents/models/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/agents/tools/)
      * [ MCP Integration  ](https://langchain-ai.github.io/langgraph/agents/mcp/)
      * [ Context  ](https://langchain-ai.github.io/langgraph/agents/context/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/agents/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/agents/human-in-the-loop/)
      * [ Multi-agent  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/)
      * [ Evals  ](https://langchain-ai.github.io/langgraph/agents/evals/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/agents/deployment/)
      * [ UI  ](https://langchain-ai.github.io/langgraph/agents/ui/)
    * LangGraph framework 
      * [ Agent architectures  ](https://langchain-ai.github.io/langgraph/concepts/agentic_concepts/)
      * [ Graphs  ](https://langchain-ai.github.io/langgraph/concepts/low_level/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/concepts/streaming/)
      * [ Persistence  ](https://langchain-ai.github.io/langgraph/concepts/persistence/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/concepts/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/concepts/human_in_the_loop/)
      * [ Breakpoints  ](https://langchain-ai.github.io/langgraph/concepts/breakpoints/)
      * [ Time travel  ](https://langchain-ai.github.io/langgraph/concepts/time-travel/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/concepts/tools/)
      * [ Subgraphs  ](https://langchain-ai.github.io/langgraph/concepts/subgraphs/)
      * [ Multi-agent  ](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)
      * [ Functional API  ](https://langchain-ai.github.io/langgraph/concepts/functional_api/)
      * LangGraph's Runtime (Pregel)  [ LangGraph's Runtime (Pregel)  ](https://langchain-ai.github.io/langgraph/concepts/pregel/)
        * [ Overview  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#overview)
        * [ Actors  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#actors)
        * [ Channels  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#channels)
        * [ Examples  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#examples)
        * [ High-level API  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#high-level-api)
      * [ Other  ](https://langchain-ai.github.io/langgraph/how-tos/async/)
    * LangGraph Platform 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_platform/)
      * [ Get started  ](https://langchain-ai.github.io/langgraph/tutorials/langgraph-platform/local-server/)
      * [ Components  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_components/)
      * [ Data management  ](https://langchain-ai.github.io/langgraph/cloud/deployment/semantic_search/)
      * [ Authentication & access control  ](https://langchain-ai.github.io/langgraph/concepts/auth/)
      * [ Assistants  ](https://langchain-ai.github.io/langgraph/concepts/assistants/)
      * [ Threads  ](https://langchain-ai.github.io/langgraph/cloud/concepts/threads/)
      * [ Runs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/runs/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/cloud/concepts/streaming/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/cloud/how-tos/human_in_the_loop_breakpoint/)
      * [ MCP  ](https://langchain-ai.github.io/langgraph/concepts/server-mcp/)
      * [ Double-texting  ](https://langchain-ai.github.io/langgraph/concepts/double_texting/)
      * [ Webhooks  ](https://langchain-ai.github.io/langgraph/cloud/concepts/webhooks/)
      * [ Cron Jobs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/cron_jobs/)
      * [ Server Customization  ](https://langchain-ai.github.io/langgraph/how-tos/http/custom_lifespan/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/concepts/deployment_options/)
  * [ Reference  ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples  ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources  ](https://langchain-ai.github.io/langgraph/concepts/faq/)


  * [ Overview  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#overview)
  * [ Actors  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#actors)
  * [ Channels  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#channels)
  * [ Examples  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#examples)
  * [ High-level API  ](https://langchain-ai.github.io/langgraph/concepts/pregel/#high-level-api)


  1. [ Guides  ](https://langchain-ai.github.io/langgraph/)
  2. [ LangGraph framework  ](https://langchain-ai.github.io/langgraph/concepts/agentic_concepts/)

[ ](https://github.com/langchain-ai/langgraph/edit/main/docs/docs/concepts/pregel.md "Edit this page")
# LangGraph's Runtime (Pregel)[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#langgraphs-runtime-pregel "Permanent link")
[Pregel](https://langchain-ai.github.io/langgraph/reference/pregel/#langgraph.pregel.Pregel "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Pregel</span>") implements LangGraph's runtime, managing the execution of LangGraph applications.
Compiling a [StateGraph](https://langchain-ai.github.io/langgraph/reference/graphs/#langgraph.graph.state.StateGraph "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StateGraph</span>") or creating an [entrypoint](https://langchain-ai.github.io/langgraph/reference/func/#langgraph.func.entrypoint "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">entrypoint</span>") produces a [Pregel](https://langchain-ai.github.io/langgraph/reference/pregel/#langgraph.pregel.Pregel "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Pregel</span>") instance that can be invoked with input.
This guide explains the runtime at a high level and provides instructions for directly implementing applications with Pregel.
> **Note:** The [Pregel](https://langchain-ai.github.io/langgraph/reference/pregel/#langgraph.pregel.Pregel "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Pregel</span>") runtime is named after [Google's Pregel algorithm](https://research.google/pubs/pub37252/), which describes an efficient method for large-scale parallel computation using graphs.
## Overview[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#overview "Permanent link")
In LangGraph, Pregel combines [**actors**](https://en.wikipedia.org/wiki/Actor_model) and **channels** into a single application. **Actors** read data from channels and write data to channels. Pregel organizes the execution of the application into multiple steps, following the **Pregel Algorithm** /**Bulk Synchronous Parallel** model.
Each step consists of three phases:
  * **Plan** : Determine which **actors** to execute in this step. For example, in the first step, select the **actors** that subscribe to the special **input** channels; in subsequent steps, select the **actors** that subscribe to channels updated in the previous step.
  * **Execution** : Execute all selected **actors** in parallel, until all complete, or one fails, or a timeout is reached. During this phase, channel updates are invisible to actors until the next step.
  * **Update** : Update the channels with the values written by the **actors** in this step.


Repeat until no **actors** are selected for execution, or a maximum number of steps is reached.
## Actors[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#actors "Permanent link")
An **actor** is a `PregelNode`. It subscribes to channels, reads data from them, and writes data to them. It can be thought of as an **actor** in the Pregel algorithm. `PregelNodes` implement LangChain's Runnable interface.
## Channels[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#channels "Permanent link")
Channels are used to communicate between actors (PregelNodes). Each channel has a value type, an update type, and an update function – which takes a sequence of updates and modifies the stored value. Channels can be used to send data from one chain to another, or to send data from a chain to itself in a future step. LangGraph provides a number of built-in channels:
  * [LastValue](https://langchain-ai.github.io/langgraph/reference/channels/#langgraph.channels.LastValue "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">LastValue</span>"): The default channel, stores the last value sent to the channel, useful for input and output values, or for sending data from one step to the next.
  * [Topic](https://langchain-ai.github.io/langgraph/reference/channels/#langgraph.channels.Topic "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Topic</span>"): A configurable PubSub Topic, useful for sending multiple values between **actors** , or for accumulating output. Can be configured to deduplicate values or to accumulate values over the course of multiple steps.
  * [BinaryOperatorAggregate](https://langchain-ai.github.io/langgraph/reference/channels/#langgraph.channels.BinaryOperatorAggregate "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">BinaryOperatorAggregate</span>"): stores a persistent value, updated by applying a binary operator to the current value and each update sent to the channel, useful for computing aggregates over multiple steps; e.g.,`total = BinaryOperatorAggregate(int, operator.add)`


## Examples[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#examples "Permanent link")
While most users will interact with Pregel through the [StateGraph](https://langchain-ai.github.io/langgraph/reference/graphs/#langgraph.graph.state.StateGraph "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StateGraph</span>") API or the [entrypoint](https://langchain-ai.github.io/langgraph/reference/func/#langgraph.func.entrypoint "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">entrypoint</span>") decorator, it is possible to interact with Pregel directly.
Below are a few different examples to give you a sense of the Pregel API.
[Single node](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_1_1)[Multiple nodes](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_1_2)[Topic](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_1_3)[BinaryOperatorAggregate](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_1_4)[Cycle](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_1_5)
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-1)fromlanggraph.channelsimport EphemeralValue
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-2)fromlanggraph.pregelimport Pregel, Channel 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-3)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-4)node1 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-5)    Channel.subscribe_to("a")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-6)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-7)    | Channel.write_to("b")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-8))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-9)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-10)app = Pregel(
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-11)    nodes={"node1": node1},
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-12)    channels={
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-13)        "a": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-14)        "b": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-15)    },
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-16)    input_channels=["a"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-17)    output_channels=["b"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-18))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-19)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-0-20)app.invoke({"a": "foo"})

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-1-1){'b': 'foofoo'}

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-1)fromlanggraph.channelsimport LastValue, EphemeralValue
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-2)fromlanggraph.pregelimport Pregel, Channel 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-3)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-4)node1 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-5)    Channel.subscribe_to("a")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-6)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-7)    | Channel.write_to("b")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-8))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-9)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-10)node2 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-11)    Channel.subscribe_to("b")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-12)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-13)    | Channel.write_to("c")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-14))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-15)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-16)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-17)app = Pregel(
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-18)    nodes={"node1": node1, "node2": node2},
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-19)    channels={
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-20)        "a": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-21)        "b": LastValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-22)        "c": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-23)    },
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-24)    input_channels=["a"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-25)    output_channels=["b", "c"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-26))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-27)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-2-28)app.invoke({"a": "foo"})

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-3-1){'b': 'foofoo', 'c': 'foofoofoofoo'}

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-1)fromlanggraph.channelsimport EphemeralValue, Topic
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-2)fromlanggraph.pregelimport Pregel, Channel 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-3)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-4)node1 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-5)    Channel.subscribe_to("a")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-6)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-7)    | {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-8)        "b": Channel.write_to("b"),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-9)        "c": Channel.write_to("c")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-10)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-11))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-12)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-13)node2 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-14)    Channel.subscribe_to("b")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-15)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-16)    | {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-17)        "c": Channel.write_to("c"),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-18)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-19))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-20)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-21)app = Pregel(
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-22)    nodes={"node1": node1, "node2": node2},
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-23)    channels={
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-24)        "a": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-25)        "b": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-26)        "c": Topic(str, accumulate=True),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-27)    },
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-28)    input_channels=["a"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-29)    output_channels=["c"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-30))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-31)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-4-32)app.invoke({"a": "foo"})

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-5-1){'c': ['foofoo', 'foofoofoofoo']}

```

This examples demonstrates how to use the BinaryOperatorAggregate channel to implement a reducer.
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-1)fromlanggraph.channelsimport EphemeralValue, BinaryOperatorAggregate
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-2)fromlanggraph.pregelimport Pregel, Channel
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-3)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-4)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-5)node1 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-6)    Channel.subscribe_to("a")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-7)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-8)    | {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-9)        "b": Channel.write_to("b"),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-10)        "c": Channel.write_to("c")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-11)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-12))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-13)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-14)node2 = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-15)    Channel.subscribe_to("b")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-16)    | (lambda x: x + x)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-17)    | {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-18)        "c": Channel.write_to("c"),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-19)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-20))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-21)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-22)defreducer(current, update):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-23)    if current:
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-24)        return current + " | " + "update"
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-25)    else:
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-26)        return update
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-27)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-28)app = Pregel(
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-29)    nodes={"node1": node1, "node2": node2},
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-30)    channels={
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-31)        "a": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-32)        "b": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-33)        "c": BinaryOperatorAggregate(str, operator=reducer),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-34)    },
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-35)    input_channels=["a"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-36)    output_channels=["c"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-37))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-38)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-6-39)app.invoke({"a": "foo"})

```

This example demonstrates how to introduce a cycle in the graph, by having a chain write to a channel it subscribes to. Execution will continue until a None value is written to the channel.
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-1)fromlanggraph.channelsimport EphemeralValue
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-2)fromlanggraph.pregelimport Pregel, Channel, ChannelWrite, ChannelWriteEntry
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-3)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-4)example_node = (
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-5)    Channel.subscribe_to("value")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-6)    | (lambda x: x + x if len(x) < 10 else None)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-7)    | ChannelWrite(writes=[ChannelWriteEntry(channel="value", skip_none=True)])
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-8))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-9)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-10)app = Pregel(
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-11)    nodes={"example_node": example_node},
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-12)    channels={
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-13)        "value": EphemeralValue(str),
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-14)    },
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-15)    input_channels=["value"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-16)    output_channels=["value"],
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-17))
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-18)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-7-19)app.invoke({"value": "a"})

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-8-1){'value': 'aaaaaaaaaaaaaaaa'}

```

## High-level API[¶](https://langchain-ai.github.io/langgraph/concepts/pregel/#high-level-api "Permanent link")
LangGraph provides two high-level APIs for creating a Pregel application: the [StateGraph (Graph API)](https://langchain-ai.github.io/langgraph/concepts/low_level/) and the [Functional API](https://langchain-ai.github.io/langgraph/concepts/functional_api/).
[StateGraph (Graph API)](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_2_1)[Functional API](https://langchain-ai.github.io/langgraph/concepts/pregel/#__tabbed_2_2)
The [StateGraph (Graph API)](https://langchain-ai.github.io/langgraph/reference/graphs/#langgraph.graph.state.StateGraph "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StateGraph</span>") is a higher-level abstraction that simplifies the creation of Pregel applications. It allows you to define a graph of nodes and edges. When you compile the graph, the StateGraph API automatically creates the Pregel application for you.
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-1)fromtypingimport TypedDict, Optional
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-2)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-3)fromlanggraph.constantsimport START
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-4)fromlanggraph.graphimport StateGraph
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-5)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-6)classEssay(TypedDict):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-7)    topic: str
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-8)    content: Optional[str]
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-9)    score: Optional[float]
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-10)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-11)defwrite_essay(essay: Essay):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-12)    return {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-13)        "content": f"Essay about {essay['topic']}",
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-14)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-15)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-16)defscore_essay(essay: Essay):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-17)    return {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-18)        "score": 10
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-19)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-20)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-21)builder = StateGraph(Essay)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-22)builder.add_node(write_essay)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-23)builder.add_node(score_essay)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-24)builder.add_edge(START, "write_essay")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-25)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-26)# Compile the graph. 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-27)# This will return a Pregel instance.
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-9-28)graph = builder.compile()

```

The compiled Pregel instance will be associated with a list of nodes and channels. You can inspect the nodes and channels by printing them.
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-10-1)print(graph.nodes)

```

You will see something like this:
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-11-1){'__start__': <langgraph.pregel.read.PregelNode at 0x7d05e3ba1810>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-11-2) 'write_essay': <langgraph.pregel.read.PregelNode at 0x7d05e3ba14d0>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-11-3) 'score_essay': <langgraph.pregel.read.PregelNode at 0x7d05e3ba1710>}

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-12-1)print(graph.channels)

```

You should see something like this
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-1){'topic': <langgraph.channels.last_value.LastValue at 0x7d05e3294d80>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-2) 'content': <langgraph.channels.last_value.LastValue at 0x7d05e3295040>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-3) 'score': <langgraph.channels.last_value.LastValue at 0x7d05e3295980>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-4) '__start__': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e3297e00>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-5) 'write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e32960c0>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-6) 'score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8ab80>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-7) 'branch:__start__:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e32941c0>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-8) 'branch:__start__:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d88800>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-9) 'branch:write_essay:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e3295ec0>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-10) 'branch:write_essay:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8ac00>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-11) 'branch:score_essay:__self__:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d89700>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-12) 'branch:score_essay:__self__:score_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8b400>,
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-13-13) 'start:write_essay': <langgraph.channels.ephemeral_value.EphemeralValue at 0x7d05e2d8b280>}

```

In the [Functional API](https://langchain-ai.github.io/langgraph/concepts/functional_api/), you can use an [`entrypoint`](https://langchain-ai.github.io/langgraph/reference/func/#langgraph.func.entrypoint "<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">entrypoint</span>") to create a Pregel application. The `entrypoint` decorator allows you to define a function that takes input and returns output. 
```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-1)fromtypingimport TypedDict, Optional
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-2)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-3)fromlanggraph.checkpoint.memoryimport InMemorySaver
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-4)fromlanggraph.funcimport entrypoint
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-5)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-6)classEssay(TypedDict):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-7)    topic: str
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-8)    content: Optional[str]
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-9)    score: Optional[float]
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-10)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-11)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-12)checkpointer = InMemorySaver()
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-13)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-14)@entrypoint(checkpointer=checkpointer)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-15)defwrite_essay(essay: Essay):
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-16)    return {
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-17)        "content": f"Essay about {essay['topic']}",
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-18)    }
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-19)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-20)print("Nodes: ")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-21)print(write_essay.nodes)
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-22)print("Channels: ")
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-14-23)print(write_essay.channels)

```

```
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-15-1)Nodes: 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-15-2){'write_essay': <langgraph.pregel.read.PregelNode object at 0x7d05e2f9aad0>}
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-15-3)Channels: 
[](https://langchain-ai.github.io/langgraph/concepts/pregel/#__codelineno-15-4){'__start__': <langgraph.channels.ephemeral_value.EphemeralValue object at 0x7d05e2c906c0>, '__end__': <langgraph.channels.last_value.LastValue object at 0x7d05e2c90c40>, '__previous__': <langgraph.channels.last_value.LastValue object at 0x7d05e1007280>}

```

Was this page helpful? 
Thanks for your feedback! 
Thanks for your feedback! Please help us improve this page by adding to the discussion below. 
[ Previous  Use the functional API  ](https://langchain-ai.github.io/langgraph/how-tos/use-functional-api/) [ Next  How to run a graph asynchronously  ](https://langchain-ai.github.io/langgraph/how-tos/async/)
Copyright © 2025 LangChain, Inc | [Consent Preferences](https://langchain-ai.github.io/langgraph/concepts/pregel/#__consent)
Made with [ Material for MkDocs Insiders ](https://squidfunk.github.io/mkdocs-material/)
[ ](https://langchain-ai.github.io/langgraphjs/ "langchain-ai.github.io") [ ](https://github.com/langchain-ai/langgraph "github.com") [ ](https://twitter.com/LangChainAI "twitter.com")
#### Cookie consent
We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. **Clicking "Accept" makes our documentation better. Thank you!** ❤️
  *   * 

Accept Reject
