[ Skip to content ](https://langchain-ai.github.io/langgraph/agents/evals/#evals)
**We are growing and hiring for multiple roles for LangChain, LangGraph and LangSmith.[ Join our team!](https://www.langchain.com/careers)**
[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph")
LangGraph 
Evals 
[ ](https://langchain-ai.github.io/langgraph/agents/evals/?q= "Share")
Type to start searching
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides ](https://langchain-ai.github.io/langgraph/)
  * [ Reference ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources ](https://langchain-ai.github.io/langgraph/concepts/faq/)


[ ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_dark.svg) ![logo](https://langchain-ai.github.io/langgraph/static/wordmark_light.svg) ](https://langchain-ai.github.io/langgraph/ "LangGraph") LangGraph 
[ GitHub  ](https://github.com/langchain-ai/langgraph "Go to repository")
  * [ Guides  ](https://langchain-ai.github.io/langgraph/)
    * Get started 
      * [ Quickstart  ](https://langchain-ai.github.io/langgraph/agents/agents/)
      * [ LangGraph basics  ](https://langchain-ai.github.io/langgraph/concepts/why-langgraph/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/tutorials/deployment/)
    * Prebuilt agents 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/agents/overview/)
      * [ Running agents  ](https://langchain-ai.github.io/langgraph/agents/run_agents/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/agents/streaming/)
      * [ Models  ](https://langchain-ai.github.io/langgraph/agents/models/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/agents/tools/)
      * [ MCP Integration  ](https://langchain-ai.github.io/langgraph/agents/mcp/)
      * [ Context  ](https://langchain-ai.github.io/langgraph/agents/context/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/agents/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/agents/human-in-the-loop/)
      * [ Multi-agent  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/)
      * Evals  [ Evals  ](https://langchain-ai.github.io/langgraph/agents/evals/)
        * [ Create evaluator  ](https://langchain-ai.github.io/langgraph/agents/evals/#create-evaluator)
          * [ LLM-as-a-judge  ](https://langchain-ai.github.io/langgraph/agents/evals/#llm-as-a-judge)
        * [ Run evaluator  ](https://langchain-ai.github.io/langgraph/agents/evals/#run-evaluator)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/agents/deployment/)
      * [ UI  ](https://langchain-ai.github.io/langgraph/agents/ui/)
    * LangGraph framework 
      * [ Agent architectures  ](https://langchain-ai.github.io/langgraph/concepts/agentic_concepts/)
      * [ Graphs  ](https://langchain-ai.github.io/langgraph/concepts/low_level/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/concepts/streaming/)
      * [ Persistence  ](https://langchain-ai.github.io/langgraph/concepts/persistence/)
      * [ Memory  ](https://langchain-ai.github.io/langgraph/concepts/memory/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/concepts/human_in_the_loop/)
      * [ Breakpoints  ](https://langchain-ai.github.io/langgraph/concepts/breakpoints/)
      * [ Time travel  ](https://langchain-ai.github.io/langgraph/concepts/time-travel/)
      * [ Tools  ](https://langchain-ai.github.io/langgraph/concepts/tools/)
      * [ Subgraphs  ](https://langchain-ai.github.io/langgraph/concepts/subgraphs/)
      * [ Multi-agent  ](https://langchain-ai.github.io/langgraph/concepts/multi_agent/)
      * [ Functional API  ](https://langchain-ai.github.io/langgraph/concepts/functional_api/)
      * [ LangGraph's Runtime (Pregel)  ](https://langchain-ai.github.io/langgraph/concepts/pregel/)
      * [ Other  ](https://langchain-ai.github.io/langgraph/how-tos/async/)
    * LangGraph Platform 
      * [ Overview  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_platform/)
      * [ Get started  ](https://langchain-ai.github.io/langgraph/tutorials/langgraph-platform/local-server/)
      * [ Components  ](https://langchain-ai.github.io/langgraph/concepts/langgraph_components/)
      * [ Data management  ](https://langchain-ai.github.io/langgraph/cloud/deployment/semantic_search/)
      * [ Authentication & access control  ](https://langchain-ai.github.io/langgraph/concepts/auth/)
      * [ Assistants  ](https://langchain-ai.github.io/langgraph/concepts/assistants/)
      * [ Threads  ](https://langchain-ai.github.io/langgraph/cloud/concepts/threads/)
      * [ Runs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/runs/)
      * [ Streaming  ](https://langchain-ai.github.io/langgraph/cloud/concepts/streaming/)
      * [ Human-in-the-loop  ](https://langchain-ai.github.io/langgraph/cloud/how-tos/human_in_the_loop_breakpoint/)
      * [ MCP  ](https://langchain-ai.github.io/langgraph/concepts/server-mcp/)
      * [ Double-texting  ](https://langchain-ai.github.io/langgraph/concepts/double_texting/)
      * [ Webhooks  ](https://langchain-ai.github.io/langgraph/cloud/concepts/webhooks/)
      * [ Cron Jobs  ](https://langchain-ai.github.io/langgraph/cloud/concepts/cron_jobs/)
      * [ Server Customization  ](https://langchain-ai.github.io/langgraph/how-tos/http/custom_lifespan/)
      * [ Deployment  ](https://langchain-ai.github.io/langgraph/concepts/deployment_options/)
  * [ Reference  ](https://langchain-ai.github.io/langgraph/reference/)
  * [ Examples  ](https://langchain-ai.github.io/langgraph/tutorials/rag/langgraph_agentic_rag/)
  * [ Resources  ](https://langchain-ai.github.io/langgraph/concepts/faq/)


  * [ Create evaluator  ](https://langchain-ai.github.io/langgraph/agents/evals/#create-evaluator)
    * [ LLM-as-a-judge  ](https://langchain-ai.github.io/langgraph/agents/evals/#llm-as-a-judge)
  * [ Run evaluator  ](https://langchain-ai.github.io/langgraph/agents/evals/#run-evaluator)


  1. [ Guides  ](https://langchain-ai.github.io/langgraph/)
  2. [ Prebuilt agents  ](https://langchain-ai.github.io/langgraph/agents/overview/)

agent [ ](https://github.com/langchain-ai/langgraph/edit/main/docs/docs/agents/evals.md "Edit this page")
# Evals[¶](https://langchain-ai.github.io/langgraph/agents/evals/#evals "Permanent link")
To evaluate your agent's performance you can use `LangSmith` [evaluations](https://docs.smith.langchain.com/evaluation). You would need to first define an evaluator function to judge the results from an agent, such as final outputs or trajectory. Depending on your evaluation technique, this may or may not involve a reference output:
```
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-1)defevaluator(*, outputs: dict, reference_outputs: dict):
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-2)    # compare agent outputs against reference outputs
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-3)    output_messages = outputs["messages"]
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-4)    reference_messages = reference["messages"]
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-5)    score = compare_messages(output_messages, reference_messages)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-0-6)    return {"key": "evaluator_score", "score": score}

```

To get started, you can use prebuilt evaluators from `AgentEvals` package:
```
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-1-1)pip
```

## Create evaluator[¶](https://langchain-ai.github.io/langgraph/agents/evals/#create-evaluator "Permanent link")
A common way to evaluate agent performance is by comparing its trajectory (the order in which it calls its tools) against a reference trajectory:
```
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-1)importjson
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-2)fromagentevals.trajectory.matchimport create_trajectory_match_evaluator
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-3)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-4)outputs = [
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-5)    {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-6)        "role": "assistant",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-7)        "tool_calls": [
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-8)            {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-9)                "function": {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-10)                    "name": "get_weather",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-11)                    "arguments": json.dumps({"city": "san francisco"}),
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-12)                }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-13)            },
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-14)            {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-15)                "function": {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-16)                    "name": "get_directions",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-17)                    "arguments": json.dumps({"destination": "presidio"}),
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-18)                }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-19)            }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-20)        ],
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-21)    }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-22)]
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-23)reference_outputs = [
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-24)    {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-25)        "role": "assistant",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-26)        "tool_calls": [
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-27)            {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-28)                "function": {
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-29)                    "name": "get_weather",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-30)                    "arguments": json.dumps({"city": "san francisco"}),
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-31)                }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-32)            },
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-33)        ],
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-34)    }
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-35)]
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-36)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-37)# Create the evaluator
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-38)evaluator = create_trajectory_match_evaluator(
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-39)    trajectory_match_mode="superset",  [](https://langchain-ai.github.io/langgraph/agents/evals/#__code_2_annotation_1)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-40))
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-41)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-42)# Run the evaluator
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-43)result = evaluator(
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-44)    outputs=outputs, reference_outputs=reference_outputs
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-2-45))

```

As a next step, learn more about how to [customize trajectory match evaluator](https://github.com/langchain-ai/agentevals?tab=readme-ov-file#agent-trajectory-match).
### LLM-as-a-judge[¶](https://langchain-ai.github.io/langgraph/agents/evals/#llm-as-a-judge "Permanent link")
You can use LLM-as-a-judge evaluator that uses an LLM to compare the trajectory against the reference outputs and output a score:
```
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-1)importjson
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-2)fromagentevals.trajectory.llmimport (
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-3)    create_trajectory_llm_as_judge,
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-4)    TRAJECTORY_ACCURACY_PROMPT_WITH_REFERENCE
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-5))
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-6)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-7)evaluator = create_trajectory_llm_as_judge(
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-8)    prompt=TRAJECTORY_ACCURACY_PROMPT_WITH_REFERENCE,
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-9)    model="openai:o3-mini"
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-3-10))

```

## Run evaluator[¶](https://langchain-ai.github.io/langgraph/agents/evals/#run-evaluator "Permanent link")
To run an evaluator, you will first need to create a [LangSmith dataset](https://docs.smith.langchain.com/evaluation/concepts#datasets). To use the prebuilt AgentEvals evaluators, you will need a dataset with the following schema:
  * **input** : `{"messages": [...]}` input messages to call the agent with.
  * **output** : `{"messages": [...]}` expected message history in the agent output. For trajectory evaluation, you can choose to keep only assistant messages.


_API Reference:[create_react_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent)_
```
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-1)fromlangsmithimport Client
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-2)fromlanggraph.prebuiltimport create_react_agent
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-3)fromagentevals.trajectory.matchimport create_trajectory_match_evaluator
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-4)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-5)client = Client()
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-6)agent = create_react_agent(...)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-7)evaluator = create_trajectory_match_evaluator(...)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-8)
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-9)experiment_results = client.evaluate(
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-10)    lambda inputs: agent.invoke(inputs),
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-11)    # replace with your dataset name
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-12)    data="<Name of your dataset>",
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-13)    evaluators=[evaluator]
[](https://langchain-ai.github.io/langgraph/agents/evals/#__codelineno-4-14))

```

Was this page helpful? 
Thanks for your feedback! 
Thanks for your feedback! Please help us improve this page by adding to the discussion below. 
[ Previous  Multi-agent  ](https://langchain-ai.github.io/langgraph/agents/multi-agent/) [ Next  Deployment  ](https://langchain-ai.github.io/langgraph/agents/deployment/)
Copyright © 2025 LangChain, Inc | [Consent Preferences](https://langchain-ai.github.io/langgraph/agents/evals/#__consent)
Made with [ Material for MkDocs Insiders ](https://squidfunk.github.io/mkdocs-material/)
[ ](https://langchain-ai.github.io/langgraphjs/ "langchain-ai.github.io") [ ](https://github.com/langchain-ai/langgraph "github.com") [ ](https://twitter.com/LangChainAI "twitter.com")
#### Cookie consent
We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. **Clicking "Accept" makes our documentation better. Thank you!** ❤️
  *   * 

Accept Reject
