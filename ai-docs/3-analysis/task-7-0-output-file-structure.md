# Task 7.0: Output File Structure and Naming Conventions

This document defines naming conventions and file structures for bug and feature documentation generated by the meet2issues workflow.

## 7.1: Bug Markdown Filename Convention

### Location
- **Directory**: `ai-docs/2-bugs/`
- **Path**: `ai-docs/2-bugs/<filename>.md`

### Naming Pattern

```
fix-<component>-<issue-type>.md
```

### Components

**Prefix**: Always `fix-` (indicates bug fix plan)

**Component**: System component or feature affected
- Lowercase
- Hyphen-separated
- 1-3 words max
- Examples: `login`, `csv-export`, `user-dashboard`, `api-endpoint`

**Issue Type**: Nature of the problem
- Lowercase
- Hyphen-separated
- Descriptive of the symptom
- Examples: `timeout`, `blank-screen`, `error`, `slow-loading`, `data-corruption`

### Naming Examples

**Example 1: Simple Bug**
```
Bug: Login page shows blank screen
Filename: fix-login-blank-screen.md
```

**Example 2: Error Bug**
```
Bug: CSV export fails with timeout error
Filename: fix-csv-export-timeout.md
```

**Example 3: Performance Bug**
```
Bug: Analytics dashboard loads slowly
Filename: fix-analytics-dashboard-slow-loading.md
```

**Example 4: Data Bug**
```
Bug: User profiles missing email addresses
Filename: fix-user-profiles-missing-emails.md
```

**Example 5: API Bug**
```
Bug: Payment API returns incorrect response codes
Filename: fix-payment-api-response-codes.md
```

### Alternative Pattern (With Timestamp)

If multiple bugs affect the same component on the same day:

```
fix-<component>-<issue-type>-<timestamp>.md
```

**Timestamp Format**: `YYYYMMDD-HHMM` or `YYYYMMDD`

**Example**:
```
fix-login-blank-screen-20250115.md
fix-login-timeout-error-20250115.md
```

### Character Restrictions

- **Allowed**: Lowercase letters, numbers, hyphens
- **Not Allowed**: Spaces, underscores, special characters, uppercase
- **Maximum Length**: 60 characters (including .md extension)

### File Naming Algorithm

```
1. Extract component from bug description
   - First noun phrase (login, export, dashboard)
   - Normalize: lowercase, replace spaces with hyphens

2. Extract issue type from description
   - Key symptom (timeout, blank-screen, error)
   - Normalize: lowercase, hyphenate multi-word

3. Combine: fix-<component>-<issue-type>.md

4. Check for conflicts:
   - If file exists, append timestamp
   - If still conflicts, append counter (-2, -3, etc.)
```

## 7.2: Feature Markdown Filename Convention

### Location
- **Directory**: `ai-docs/2-features/`
- **Path**: `ai-docs/2-features/<filename>.md`

### Naming Pattern

```
<feature-name>.md
```

### Components

**Feature Name**: Descriptive name of the feature
- Lowercase
- Hyphen-separated
- 2-5 words typical
- Action-oriented or noun-based
- Examples: `dark-mode`, `oauth-authentication`, `pdf-export`, `user-activity-timeline`

### Naming Examples

**Example 1: UI Feature**
```
Feature: Add dark mode to settings
Filename: dark-mode.md
```

**Example 2: Integration Feature**
```
Feature: Implement OAuth for Google and GitHub
Filename: oauth-authentication.md
```

**Example 3: Export Feature**
```
Feature: Add PDF export for reports
Filename: pdf-export-reports.md
```

**Example 4: Dashboard Feature**
```
Feature: Create customizable dashboard widgets
Filename: customizable-dashboard-widgets.md
```

**Example 5: Notification Feature**
```
Feature: Integrate Slack notifications
Filename: slack-notifications.md
```

### Alternative Pattern (With Category Prefix)

For better organization in large projects:

```
<category>-<feature-name>.md
```

**Categories**: `ui`, `integration`, `reporting`, `auth`, `api`, `admin`, `mobile`

**Examples**:
```
ui-dark-mode.md
integration-oauth-authentication.md
reporting-pdf-export.md
auth-two-factor-authentication.md
```

### Alternative Pattern (With Timestamp)

If tracking features chronologically:

```
<feature-name>-<date>.md
```

**Date Format**: `YYYYMMDD`

**Example**:
```
dark-mode-20250115.md
oauth-authentication-20250115.md
```

### Character Restrictions

- **Allowed**: Lowercase letters, numbers, hyphens
- **Not Allowed**: Spaces, underscores, special characters, uppercase
- **Maximum Length**: 60 characters (including .md extension)

### File Naming Algorithm

```
1. Extract feature name from description
   - Remove action verb (Add, Implement, Create)
   - Identify key feature noun phrase
   - Normalize: lowercase, replace spaces with hyphens

2. Simplify to 2-5 words
   - Remove articles (the, a, an)
   - Keep descriptive terms
   - Maintain clarity

3. Check for conflicts:
   - If file exists, append counter (-2, -3) or date
   - Ensure uniqueness

4. Validate:
   - Check length < 60 characters
   - Verify lowercase and hyphenated
```

## 7.3: Bug Markdown File Content Template

### Required Sections

```markdown
# Bug: <Bug Name>

## Bug Description
<Describe the bug in detail, including symptoms and expected vs actual behavior>

## Problem Statement
<Clearly define the specific problem that needs to be solved>

## Solution Statement
<Describe the proposed solution approach to fix the bug>

## Steps to Reproduce
<List exact steps to reproduce the bug>

## Root Cause Analysis
<Analyze and explain the root cause of the bug>

## Relevant Files
<List files that need to be modified to fix the bug>

### New Files (if applicable)
<List any new files that need to be created>

## Step by Step Tasks
<H3 headers with bullet points for each task>

### Task 1: <First Task Name>
- Subtask 1.1
- Subtask 1.2

### Task 2: <Second Task Name>
- Subtask 2.1
- Subtask 2.2

## Validation Commands
<Commands to validate the bug is fixed with zero regressions>

- `cd app/server && uv run pytest` - Run server tests

## Notes
<Additional notes or context>
```

### Content Guidelines

**Bug Description**:
- Include error messages verbatim (in code blocks)
- Describe expected vs actual behavior
- Note when the bug was discovered
- Include user impact

**Root Cause Analysis**:
- Identify the specific code/logic causing the issue
- Explain why it fails
- Note if it's a regression (what changed)

**Step by Step Tasks**:
- Use H3 headers for each major task
- Bullet points for subtasks
- Order: Foundation → Specific changes → Tests → Validation

**Validation Commands**:
- Include commands to reproduce the bug
- Include test commands
- Include commands to verify the fix

## 7.4: Feature Markdown File Content Template

### Required Sections

```markdown
# Feature: <Feature Name>

## Feature Description
<Describe the feature in detail, including its purpose and value to users>

## User Story
As a <type of user>
I want to <action/goal>
So that <benefit/value>

## Problem Statement
<Clearly define the specific problem or opportunity this feature addresses>

## Solution Statement
<Describe the proposed solution approach and how it solves the problem>

## Relevant Files
<List files that will be modified to implement the feature>

### New Files
<List any new files that will be created>

## Implementation Plan

### Phase 1: Foundation
<Describe foundational work needed>

### Phase 2: Core Implementation
<Describe main implementation work>

### Phase 3: Integration
<Describe integration with existing functionality>

## Step by Step Tasks
IMPORTANT: Execute every step in order, top to bottom.

=4 Task 1.0: <Task Description>
* =4 1.1: <Atomic subtask>
* =4 1.2: <Atomic subtask>

=4 Task 2.0: <Task Description>
* =4 2.1: <Atomic subtask>
* =4 2.2: <Atomic subtask>

## Testing Strategy

### Unit Tests
<Describe unit tests needed>

### Integration Tests
<Describe integration tests needed>

### Edge Cases
<List edge cases to test>

## Acceptance Criteria
- [ ] Criterion 1
- [ ] Criterion 2
- [ ] Criterion 3

## Validation Commands
<Commands to validate the feature works correctly>

- `cd app/server && uv run pytest` - Run server tests

## Notes
<Additional notes, future considerations, or context>
```

### Content Guidelines

**Feature Description**:
- Explain what the feature does
- Describe why it's valuable
- Note any user-facing changes

**User Story**:
- Format: As a [user], I want to [action], so that [benefit]
- Include all relevant user personas
- Focus on user value

**Implementation Plan**:
- Phase 1: Shared/foundational changes
- Phase 2: Core feature logic
- Phase 3: UI integration and testing

**Step by Step Tasks**:
- Use incremental numbering (1.0, 2.0, 3.0...)
- Use status indicators (=4, =�, =�)
- Atomic subtasks (1.1, 1.2, 1.3...)

**Testing Strategy**:
- Unit tests for business logic
- Integration tests for workflows
- Edge cases and error scenarios

**Acceptance Criteria**:
- Checkbox format
- Specific, measurable criteria
- User-facing validation points

## 7.5: ai-docs/2-bugs/ Directory Structure

### Directory Purpose
**Primary Location**: `ai-docs/2-bugs/`

**Note**: The bug.md command creates plans in `ai-docs/2-bugs/*.md`, following the same pattern as feature plans.

### Directory Contents
- Bug fix plan markdown files
- One file per bug
- Named according to 7.1 convention

### Organization (Optional)
For projects with many bugs, can organize by status:

```
ai-docs/2-bugs/
├── active/
│   ├── fix-login-blank-screen.md
│   └── fix-csv-export-timeout.md
├── completed/
│   └── fix-user-profiles-missing-emails.md
└── archived/
    └── fix-old-api-error.md
```

### Metadata (Optional)
Can add front matter to track status:

```markdown
---
bug_id: BUG-2025-001
status: in_progress
priority: high
created: 2025-01-15
assigned: developer-name
---

# Bug: Login Blank Screen
...
```

## 7.6: ai-docs/2-features/ Directory Structure

### Directory Purpose
- Store feature implementation plans
- One file per feature
- Named according to 7.2 convention

### Directory Contents
```
ai-docs/2-features/
├── dark-mode.md
├── oauth-authentication.md
├── pdf-export-reports.md
├── slack-notifications.md
└── customizable-dashboard.md
```

### Organization by Category (Optional)

```
ai-docs/2-features/
├── ui/
│   ├── dark-mode.md
│   └── customizable-dashboard.md
├── integration/
│   ├── oauth-authentication.md
│   └── slack-notifications.md
└── reporting/
    └── pdf-export-reports.md
```

### Organization by Status (Optional)

```
ai-docs/2-features/
├── planned/
│   ├── dark-mode.md
│   └── oauth-authentication.md
├── in-progress/
│   └── pdf-export-reports.md
└── completed/
    └── slack-notifications.md
```

### Metadata (Optional)
Can add front matter:

```markdown
---
feature_id: FEAT-2025-001
status: planned
priority: high
complexity: medium
created: 2025-01-15
estimated_effort: 2_weeks
---

# Feature: Dark Mode
...
```

## File Creation Responsibility

### Bug Files (ai-docs/2-bugs/*.md)
- **Created by**: bug.md command
- **Triggered by**: AI coder executing `/bug [description]`
- **Naming**: AI determines based on bug description
- **Convention**: Should follow 7.1 guidelines

### Feature Files (ai-docs/2-features/*.md)
- **Created by**: feature.md command
- **Triggered by**: AI coder executing `/feature [description]`
- **Naming**: AI determines based on feature description
- **Convention**: Should follow 7.2 guidelines

### Directory Creation
Both directories should exist before workflow execution:

```bash
mkdir -p ai-docs/2-bugs
mkdir -p ai-docs/2-features
```

## Integration with meet2issues.md

The meet2issues.md prompt should:

1. **Not** create the bug/feature files directly
2. **Generate** the `/bug` and `/feature` commands
3. **Leave** file creation to the bug.md and feature.md commands
4. **Provide** clear descriptions so file naming is meaningful

## Quality Checklist

For file naming and structure:

- [ ] Filenames are lowercase with hyphens
- [ ] Bug files use `fix-` prefix
- [ ] Feature files describe the feature clearly
- [ ] No duplicate filenames in directory
- [ ] Filenames under 60 characters
- [ ] Content follows template structure
- [ ] All required sections present
- [ ] Tasks are properly formatted with status indicators
